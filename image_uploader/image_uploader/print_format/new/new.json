{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-05-28 16:45:07.895272",
 "css": ".image-list {\r\n            list-style-type: none;\r\n            padding: 0;\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n        }\r\n        .image-list h4 {\r\n            width: 100%;\r\n        }\r\n        .image-list img {\r\n            margin: 5px;\r\n        }",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "image printer",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set file_name_ = doc.lead_ref %}\r\n{% if file_name_ %}\r\n\r\n    {% set image_size = doc.select %}\r\n\r\n    {% if image_size == 'Small' %}\r\n        {% set image_width = 250 %}\r\n    {% elif image_size == 'Large' %}\r\n        {% set image_width = 600 %}\r\n    {% elif image_size == 'Medium' %}\r\n        {% set image_width = 400 %}\r\n    {% else %}\r\n        {% set image_width = 300 %}  {# Default width if none of the conditions match #}\r\n    {% endif %}\r\n\r\n    {% set folder_name = doc.folder %}\r\n\r\n    {% set main_folder = frappe.get_all('File', filters={'file_name': file_name_, 'is_folder': 1}, fields=['name']) %}\r\n\r\n    {% if main_folder %}\r\n        {% set main_folder_name = main_folder[0]['name'] %}\r\n        {% set sub_folders = frappe.get_all('File', filters={'folder': main_folder_name, 'is_folder': 1}, fields=['name']) %}\r\n\r\n        {% for sub_folder in sub_folders %}\r\n            {% set sub_folder_name = sub_folder.name %}\r\n            {% set sub_sub_folders = frappe.get_all('File', filters={'folder': sub_folder_name, 'is_folder': 1}, fields=['name']) %}\r\n\r\n            {% for sub_sub_folder in sub_sub_folders %}\r\n                {% set sub_sub_folder_name = sub_sub_folder.name %}\r\n                {% set sub_sub_folder_contents = frappe.get_all('File', filters={'folder': sub_sub_folder_name, 'is_folder': 1}, fields=['name']) %}\r\n\r\n                {% for sub_sub_folder_content in sub_sub_folder_contents %}\r\n                    {% set sub_sub_folder_content_name = sub_sub_folder_content.name %}\r\n\r\n                    {# Determine the custom flag filter based on doc.flag #}\r\n                    {% set flag_file = doc.flag %}\r\n                    {% set custom_flag_filter = None %}\r\n\r\n                    {% if flag_file %}\r\n                        {% if flag_file == 'All' %}\r\n                            {% set custom_flag_filter = custom_flag %}\r\n                        {% elif flag_file == 'Flag' %}\r\n                            {% set custom_flag_filter = 1 %}\r\n                        {% elif flag_file == 'No Flag' %}\r\n                            {% set custom_flag_filter = 0 %}\r\n                        {% endif %}\r\n                    {% endif %}\r\n\r\n                    {# Fetch files based on the custom flag filter #}\r\n                    {% if custom_flag_filter is defined %}\r\n                        {% set files = frappe.get_all('File', filters={'folder': sub_sub_folder_content_name, 'is_folder': 0, 'flag': custom_flag_filter}, fields=['file_url', 'file_name', 'flag']) %}\r\n                    {% else %}\r\n                        {% set files = frappe.get_all('File', filters={'folder': sub_sub_folder_content_name, 'is_folder': 0}, fields=['file_url', 'file_name', 'flag']) %}\r\n                    {% endif %}\r\n\r\n                    {% if files %}\r\n                        {% set folder_name_heading = sub_folder_name.split(\"/\")[-1] %}\r\n                        {% set folder_name_sub_heading = sub_sub_folder_name.split(\"/\")[-1] %}\r\n                        \r\n                        {# Check if folder names match 'pre install folder' or 'post install folder' #}\r\n                        {% if folder_name_heading == folder_name %}\r\n                            <ul>\r\n                                <li>\r\n                                    <h3>{{ folder_name_heading }}</h3>\r\n                                    <ul class=\"image-list\">\r\n                                        <li>\r\n                                            <h4>{{ folder_name_sub_heading }}</h4>\r\n                                            {% for file in files %}\r\n                                                <!--<p>{{ file.file_name }}</p>-->\r\n                                                <img src=\"{{ file.file_url }}\" alt=\"File Image\" width=\"{{ image_width }}px\" height=\"300\">\r\n                                            {% endfor %}\r\n                                        </li>\r\n                                    </ul>\r\n                                </li>\r\n                            </ul>\r\n                        {% elif folder_name == \"All\" %}\r\n                        <ul>\r\n                                <li>\r\n                                    <h3>{{ folder_name_heading }}</h3>\r\n                                    <ul class=\"image-list\">\r\n                                        <li>\r\n                                            <h4>{{ folder_name_sub_heading }}</h4>\r\n                                            {% for file in files %}\r\n                                                <!--<p>{{ file.file_name }}</p>-->\r\n                                                <img src=\"{{ file.file_url }}\" alt=\"File Image\" width=\"{{ image_width }}px\" height=\"300\">\r\n                                            {% endfor %}\r\n                                        </li>\r\n                                    </ul>\r\n                                </li>\r\n                            </ul>\r\n                        \r\n                            \r\n                        \r\n                     \r\n                        {% endif %}\r\n                    {% endif %}\r\n                {% endfor %}\r\n            {% endfor %}\r\n        {% endfor %}\r\n    {% endif %}\r\n{% endif %}\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-06-17 11:57:15.171412",
 "modified_by": "Administrator",
 "module": "Image Uploader",
 "name": "New",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}