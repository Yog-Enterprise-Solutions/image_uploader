{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-05-28 16:45:07.895272",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "image printer",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set file_name_ = doc.lead_ref %}\r\n\r\n{% set image_size = doc.select %}\r\n\r\n{% if image_size == 'Small' %}\r\n    {% set image_width = 200 %}\r\n{% elif image_size == 'Large' %}\r\n    {% set image_width = 600 %}\r\n{% elif image_size == 'Medium' %}\r\n    {% set image_width = 350 %}\r\n\r\n{% endif %}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n{% set main_folder = frappe.get_all(\r\n    'File', \r\n    filters={\r\n        'file_name':  'CRM-LEAD-2024-00002',\r\n        'is_folder': 1  \r\n    }, \r\n    fields=['name']\r\n) %}\r\n\r\n{% if main_folder %}\r\n    {% set main_folder_name = main_folder[0]['name'] %}\r\n\r\n    {% set sub_folders = frappe.get_all(\r\n        'File', \r\n        filters={\r\n            'folder': main_folder_name,\r\n            'is_folder': 1\r\n        },\r\n        fields=['name']\r\n    ) %}\r\n\r\n    {% for sub_folder in sub_folders %}\r\n        {% set sub_folder_name = sub_folder.name %}\r\n\r\n        {% set sub_sub_folders = frappe.get_all(\r\n            'File', \r\n            filters={\r\n                'folder': sub_folder_name,\r\n                'is_folder': 1\r\n            },\r\n            fields=['name']\r\n        ) %}\r\n\r\n        {% for sub_sub_folder in sub_sub_folders %}\r\n            {% set sub_sub_folder_name = sub_sub_folder.name %}\r\n\r\n            {% set flag_file = doc.flag %}\r\n\r\n{% set custom_flag_filter = None %}\r\n{% set files = None %}\r\n\r\n{% if flag_file %}\r\n    {% if flag_file == 'All' %}\r\n        {% set custom_flag_filter = custom_flag %}\r\n    {% elif flag_file == 'Flag' %}\r\n        {% set custom_flag_filter = 1 %}\r\n    {% elif flag_file == 'No Flag' %}\r\n        {% set custom_flag_filter = 0 %}\r\n    {% endif %}\r\n{% endif %}\r\n\r\n{% if custom_flag_filter is defined %}\r\n    {% set files = frappe.get_all(\r\n        'File', \r\n        filters={\r\n            'folder': sub_sub_folder_name,\r\n            'is_folder': 0,\r\n            'custom_flag': custom_flag_filter\r\n        },\r\n        fields=['file_url', 'custom_flag', 'file_name']\r\n    ) %}\r\n{% else %}\r\n    {% set files = frappe.get_all(\r\n        'File', \r\n        filters={\r\n            'folder': sub_sub_folder_name,\r\n            'is_folder': 0\r\n        },\r\n        fields=['file_url', 'custom_flag', 'file_name']\r\n    ) %}\r\n{% endif %}\r\n\r\n\r\n            {% if files %}\r\n                {% set folder_name_heading = sub_folder_name.split(\"/\")[-1] %}\r\n                {% set folder_name_sub_heading = sub_sub_folder_name.split(\"/\")[-1] %}\r\n\r\n                <ul>\r\n                    <li>\r\n                        <h3>{{ folder_name_heading }}</h3>\r\n                        <ul>\r\n                            <li>\r\n                                <h4>{{ folder_name_sub_heading }}</h4>\r\n                                {% for file in files %}\r\n                                    <p>{{ file.file_name }}</p>\r\n                                    <img src=\"{{ file.file_url }}\" alt=\"File Image\" width=\"{{ image_width }}px\" height=\"200\">\r\n                                {% endfor %}\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            {% endif %}\r\n        {% endfor %}\r\n    {% endfor %}\r\n{% endif %}\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-05-28 16:45:07.895272",
 "modified_by": "Administrator",
 "module": "Image Uploader",
 "name": "New",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}